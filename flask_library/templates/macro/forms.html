{% macro form_field(field) -%}
    {% set with_label = kwargs.pop('with_label', False) %}
    {% set placeholder = '' %}
    {% if not with_label %}
        {% set placeholder = field.label.text %}
    {% endif %}
    <div class="form-group{% if field.errors %} has-error{% endif %}">
        {% if with_label %}
          {{ field.label }}  
        {% endif %}
        {{ field(class='form-control', placeholder=placeholder, **kwargs) }}
        {% for error in field.errors %}
            <span class="help-block">{{ error }}</span>
        {% endfor %}
    </div>
{%- endmacro %}
